;
; WARNING: AUTO-CREATED FILE.
; Any changes you make will be overwritten!
; If you need to make changes or overrider defaults, do so in osdial_extensions_custom.conf.
;

#include osdial_extensions_carriers.conf

[osdial_arivmcall]
exten => s,1,Answer
exten => s,n,Wait(1)
exten => s,n(repeat),Background(${MSG}&silence/2&vm-repeat&vm-starmain)
exten => s,n,WaitExten(15,)
exten => 5,1,Goto(s,repeat)
exten => #,1,Playback(vm-goodbye)
exten => #,n,Hangup
exten => *,1,Set(VMCONTEXT=${DB(AMPUSER/${MBOX}/voicemail)})
exten => *,n,VoiceMailMain(${MBOX}@${VMCONTEXT},s)
exten => i,1,Playback(pm-invalid-option)
exten => i,n,Goto(s,repeat)
exten => t,1,Playback(vm-goodbye)
exten => t,n,Hangup
exten => h,1,Hangup
exten => s-ANSWER,1,Noop(Call successfully answered - Hanging up now)

[osdial]
;
#include osdial_extensions_phones.conf
#include osdial_extensions_outbound.conf
#include osdial_extensions_inbound.conf
#include osdial_extensions_servers.conf
#include osdial_extensions_conferences.conf
#include osdial_extensions_testing.conf
#include osdial_extensions_custom.conf
;
;
;
exten => 43,1,Echo()
exten => 9,1,Playback(invalid)
exten => #,1,Playback(invalid)
exten => #,2,Hangup
; timeout
exten => t,1,Goto(#,1)
; invalid
exten => i,1,Playback(invalid)          ; "That's not valid, try again"
; FastAGI for OSDial call logging
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})
;
;Station spying.
;   6+agent_exten = monitoring
exten => 6000,1,AGI(agi-OSDstation_spy_prompted.agi)
exten => _6XXX,1,AGI(agi-OSDstation_spy.agi)
exten => _6XXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _6XXXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _6XXXXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _6XXXXXXX,1,AGI(agi-OSDstation_spy.agi)
;   7+agent_exten = barge
exten => 7000,1,AGI(agi-OSDstation_spy_prompted.agi)
exten => _7XXX,1,AGI(agi-OSDstation_spy.agi)
exten => _7XXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _7XXXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _7XXXXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _7XXXXXXX,1,AGI(agi-OSDstation_spy.agi)
;   9+agent_exten = whisper
exten => 9000,1,AGI(agi-OSDstation_spy_prompted.agi)
exten => _9XXX,1,AGI(agi-OSDstation_spy.agi)
exten => _9XXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _9XXXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _9XXXXXX,1,AGI(agi-OSDstation_spy.agi)
exten => _9XXXXXXX,1,AGI(agi-OSDstation_spy.agi)
;
;
; barge monitoring extension
exten => 8159,1,DahdiBarge
exten => 8159,2,Hangup
;
; prompt recording AGI script, ID is 4321
exten => 8167,1,Answer
exten => 8167,2,AGI(agi-record_prompts.agi,wav,720000)
exten => 8167,3,Hangup
exten => 8168,1,Answer
exten => 8168,2,AGI(agi-record_prompts.agi,gsm,720000)
exten => 8168,3,Hangup
exten => 8169,1,Answer
exten => 8169,2,AGI(agi-record_prompts.agi,ulaw,720000)
exten => 8169,3,Hangup
;
exten => 8300,1,Hangup
;
; park channel for client GUI parking, hangup after 30 minutes
exten => 8301,1,Answer
exten => 8301,2,AGI(agi-OSDpark.agi)
exten => 8301,4,Hangup
; park channel for client GUI conferencing, hangup after 30 minutes
exten => 8302,1,Answer
exten => 8302,2,Playback(conf)
exten => 8302,3,Hangup
;
exten => 8303,1,Answer
exten => 8303,2,AGI(agi-OSDpark.agi)
exten => 8303,4,Hangup
;
exten => 8304,1,Answer
exten => 8304,2,Playback(ding)
exten => 8304,3,Hangup
;
; default audio for safe harbor 2-second-after-hello message then hangup
;    create a GSM formatted audio file complies with safe harbor rules
;    and put it in /var/lib/asterisk/sounds then change filename below
exten => 8307,1,Answer
exten => 8307,2,Playback(vm-goodbye)
exten => 8307,3,Hangup
exten => _8307.,1,Answer
exten => _8307.,n,Playback(${EXTEN:4})
exten => _8307.,n,Hangup
;
; this is used for recording conference calls, the client app sends the filename
;    value as a callerID recordings go to /var/spool/asterisk/monitor (WAV)
exten => 8309,1,Answer
exten => 8309,2,MixMonitor(/var/spool/asterisk/record_cache/${CALLERID(name)}-in.wav,,/bin/mv -v ^{MIXMONITOR_FILENAME} /var/spool/asterisk/VDmonitor)
exten => 8309,3,Wait(3600)
exten => 8309,4,Hangup
;
; this is used for recording conference calls, the client app sends the filename
;    value as a callerID recordings go to /var/spool/asterisk/monitor (GSM)
exten => 8310,1,Answer
exten => 8310,2,MixMonitor(/var/spool/asterisk/record_cache/${CALLERID(name)}-in.gsm,,/bin/mv -v ^{MIXMONITOR_FILENAME} /var/spool/asterisk/VDmonitor)
exten => 8310,3,Wait(3600)
exten => 8310,4,Hangup
;
; this is used for recording conference calls, the client app sends the filename
;    value as a callerID recordings go to /var/spool/asterisk/monitor (GSM)
exten => 8311,1,Answer
exten => 8311,2,MixMonitor(/var/spool/asterisk/record_cache/${CALLERID(name)}-in.wav,,/bin/mv -v ^{MIXMONITOR_FILENAME} /var/spool/asterisk/VDmonitor)
exten => 8311,3,Wait(3600)
exten => 8311,4,Hangup
;
; this is used for playing a message to an answering machine forwarded from AMD in OSDIAL
;    replace conf with the message file you want to leave
exten => 8320,1,WaitForSilence(1000,2,20) ; AMD got machine.  leave message after recording
exten => 8320,2,GotoIf($["${AMDAUDIO}" != ""]?4)
exten => 8320,3,Set(AMDAUDIO=vm-goodbye)
exten => 8320,4,Playback(${AMDAUDIO})
exten => 8320,5,Wait(4)
exten => 8320,6,AGI(agi-OSDamd_post.agi,${EXTEN},${AMDAUDIO})
exten => 8320,7,Hangup
exten => _8320.,1,WaitForSilence(1000,2,20) ; AMD got machine.  leave message after recording
exten => _8320.,n,Playback(${EXTEN:4})
exten => _8320.,n,AGI(agi-OSDamd_post.agi,${EXTEN})
exten => _8320.,n,Hangup

;
; use for selective CallerID hangup by area code(hard-coded)
exten => 8352,1,AGI(agi-VDADselective_CID_hangup.agi,${EXTEN})
exten => 8352,2,Playback(safe_harbor)
exten => 8352,3,Hangup
;
; OSDIAL transfer script for no-agent campaigns:
exten => 8364,1,NoOp
exten => 8364,n,Playback(sip-silence)
exten => 8364,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8364,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8364,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8364,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8364,n,Hangup
;
; OSDIAL_auto_dialer transfer script:
exten => 8365,1,NoOp
exten => 8365,n,Playback(sip-silence)
exten => 8365,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8365,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8365,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8365,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8365,n,Hangup
;
; OSDIAL_auto_dialer transfer script SURVEY at beginning:
exten => 8366,1,NoOp
exten => 8366,n,Playback(sip-silence)
exten => 8366,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8366,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8366,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8366,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8366,n,Hangup
;
; OSDIAL_auto_dialer transfer script Load Balance Overflow:
exten => 8367,1,NoOp
exten => 8367,n,Playback(sip-silence)
exten => 8367,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8367,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8367,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8367,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8367,n,Hangup
;
; OSDIAL_auto_dialer transfer script Load Balanced:
exten => 8368,1,NoOp
exten => 8368,n,Playback(sip-silence)
exten => 8368,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8368,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8368,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8368,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8368,n,Hangup
;
; OSDIAL_auto_dialer transfer script AMD with Load Balanced:
exten => 8369,1,NoOp
exten => 8369,n,Playback(sip-silence)
exten => 8369,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8369,n,AMD(3500,1250,500,5000,120,50,4,256) 
exten => 8369,n,AGI(agi-OSDamd.agi,${EXTEN})
exten => 8369,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8369,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8369,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8369,n,Hangup
;
; OSDIAL auto-dial reminder script
exten => 8372,1,NoOp
exten => 8372,n,Playback(sip-silence)
exten => 8372,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8372,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8372,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8372,n,AGI(agi-OSDoutbound.agi,${EXTEN})
exten => 8372,n,Hangup
;
; OSDIAL Auto-Agent script
exten => 8375,1,NoOp
exten => 8375,n,Playback(sip-silence)
exten => 8375,n,AGI(agi://127.0.0.1:4577/call_log)
exten => 8375,n,AMD(3500,1250,500,5000,120,50,4,256) 
exten => 8375,n,AGI(agi-OSDamd.agi,${EXTEN})
exten => 8375,n,AGI(agi-OSDoutboundIVR.agi,${EXTEN})
exten => 8375,n,AGI(agi-OSDoutboundIVR.agi,${EXTEN})
exten => 8375,n,AGI(agi-OSDoutboundIVR.agi,${EXTEN})
exten => 8375,n,Hangup
;
; Give voicemail at extension 8500
exten => *98,1,Goto(osdial,8500,1)
exten => 8500,1,VoicemailMain(@osdial)
exten => 8500,2,Goto(s,6)
;
; this is used to allow the GUI to send you directly into voicemail
;     don't forget to set GUI variable $voicemail_exten to this extension
exten => *97,1,Goto(osdial,8501,1)
exten => 8501,1,VoicemailMain(s${CALLERID(number)}@osdial)
exten => 8501,2,Hangup
;
; this is used for sending DTMF signals within conference calls, the client app
;    sends the digits to be played in the callerID field
;    sound files must be placed in /var/lib/asterisk/sounds
exten => 8500998,1,Answer
exten => 8500998,2,Playback(silence)
exten => 8500998,3,AGI(agi-OSDdtmf.agi)
exten => 8500998,4,Hangup
;
; playback of recorded prompts
exten => _851XXXXX,1,Answer
exten => _851XXXXX,2,Playback(${EXTEN})
exten => _851XXXXX,3,Hangup
;
;exten => _8851XXXXX,1,WaitForSilence(1000,2) ; AMD got machine.  leave message after recording
exten => _8851XXXXX,1,Wait(10) ; AMD got machine.  leave message after recording
exten => _8851XXXXX,2,Playback(${EXTEN:1})
exten => _8851XXXXX,3,AGI(agi-OSDamd_post.agi,${EXTEN})
exten => _8851XXXXX,4,Hangup
;
; this is used to allow the GUI to send live calls directly into voicemail
;     don't forget to set GUI variable $voicemail_dump_exten to this extension
exten => _85026666666666.,1,AGI(agi-OSDvmail_finder.agi,${EXTEN:14},85027777777777)
exten => _85027777777777.,1,Wait(2)
exten => _85027777777777.,2,Voicemail(${EXTEN:14}@osdial)
exten => _85027777777777.,3,Hangup
;
; Other Voicemail Reroutes
exten => _8502XXXX,1,AGI(agi-OSDvmail_finder.agi,${EXTEN:14},8503XXXX)
exten => _8503XXXX,1,Voicemail(${EXTEN:4}@osdial)
;
;
; Fix CXFER.
exten => _860XXXX*.,1,AGI(agi-OSDfixCXFER.agi)
exten => _7860XXXX*.,1,AGI(agi-OSDfixCXFER.agi)
;
;
;  DO NOT REMOVE OR MODIFY THE FOLLOWING ENTRIES
; inbound OSDIAL transfer calls
exten => _90009.,1,Answer                  ; Answer the line
exten => _90009.,2,AGI(agi-VDAD_ALL_inbound.agi,CLOSER-----LO-----CL_TESTCAMP-----7275551212-----Closer-----park----------999-----1)
exten => _90009.,3,Hangup
exten => _990009.,1,Answer                  ; Answer the line
exten => _990009.,2,AGI(agi-VDAD_ALL_inbound.agi,CLOSER-----LO-----CL_TESTCAMP-----7275551212-----Closer-----park----------999-----1)
exten => _990009.,3,Hangup
